#word-width 16
#precision  8
MODULE timer

VAR
    @counter : uint;

INIT
    @counter = 0;

TRANS
    next(@counter) = 1024 + @counter;

DEFINE
    tick := @counter = 0;

MODULE main

VAR
    temp  : ufxd;
    loss  : ufxd;
    t0    : timer();

    heater: boolean;

INIT
   temp = @INITIAL;

INIT
   ! heater;

TRANS
   next(heater) <-> temp < @THRESHOLD;

INIT
   loss >= 0.2;

INIT
   loss <= 0.5;

TRANS
   next(loss) = loss;

DEFINE
   @HEATING     := 0.75;
   @THRESHOLD   := 20.0;
   @INITIAL     := 22.0;

TRANS
    next(temp) = (t0.tick ? temp - loss + ( heater ? @HEATING : 0.00 ) : temp);






