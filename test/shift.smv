MODEL lsh
MODULE main

VAR
    x : uint16_t;
    y : uint16_t;
    d : boolean;

INIT
     (d) & (x = 1) & (y = 1);

TRANS
     next(d) <-> (
             (x = 16384 & d
             |x =     2 & !d)
             ? !d
             :  d
     );

     next(y) = y;

     next(x) = (d ? ( x << y )
                  : ( x >> y ));
